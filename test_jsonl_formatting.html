<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSONL JSONPath Formatting Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-container { max-width: 1000px; margin: 0 auto; }
        .test-section { margin-bottom: 30px; border: 1px solid #ddd; padding: 20px; border-radius: 8px; }
        .jsonl-input { background: #f5f5f5; padding: 15px; border-radius: 5px; margin-bottom: 15px; white-space: pre-wrap; font-family: monospace; }
        .jsonpath-input { background: #e8f4f8; padding: 10px; border-radius: 5px; margin-bottom: 15px; font-family: monospace; }
        .expected-output { background: #f0f8e8; padding: 15px; border-radius: 5px; margin-bottom: 15px; white-space: pre-wrap; font-family: monospace; }
        .test-button { background: #007cba; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; }
        .test-button:hover { background: #005a8b; }

        /* JSON syntax highlighting styles */
        .json-string { color: #c41e3a; }
        .json-number { color: #0066cc; }
        .json-boolean { color: #d14; }
        .json-null { color: #999; }
        .json-key { color: #1d1d1d; font-weight: bold; }
        .deemphasized { color: #999; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>JSONL JSONPath Formatting Test</h1>

        <div class="test-section">
            <h2>Test 1: Simple String Field</h2>
            <div class="jsonl-input">{"id": 1, "name": "Alice", "age": 25}
{"id": 2, "name": "Bob", "age": 30}
{"id": 3, "name": "Charlie", "age": 35}</div>

            <div class="jsonpath-input">JSONPath: $.name</div>

            <div class="expected-output">Expected Output:
[
  {
    "from_object": 0,
    "result": {
      "name": "Alice"
    }
  },
  {
    "from_object": 1,
    "result": {
      "name": "Bob"
    }
  },
  {
    "from_object": 2,
    "result": {
      "name": "Charlie"
    }
  }
]</div>
            <button class="test-button" onclick="testSimpleField()">Test Simple Field</button>
        </div>

        <div class="test-section">
            <h2>Test 2: Array Field</h2>
            <div class="jsonl-input">{"id": 1, "name": "Alice", "hobbies": ["reading", "cycling"]}
{"id": 2, "name": "Bob", "hobbies": ["gaming", "cooking", "photography"]}
{"id": 3, "name": "Charlie", "hobbies": ["hiking"]}</div>

            <div class="jsonpath-input">JSONPath: $.hobbies</div>

            <div class="expected-output">Expected Output:
[
  {
    "from_object": 0,
    "result": {
      "hobbies": [
        "reading",
        "cycling"
      ]
    }
  },
  {
    "from_object": 1,
    "result": {
      "hobbies": [
        "gaming",
        "cooking",
        "photography"
      ]
    }
  },
  {
    "from_object": 2,
    "result": {
      "hobbies": [
        "hiking"
      ]
    }
  }
]</div>
            <button class="test-button" onclick="testArrayField()">Test Array Field</button>
        </div>

        <div class="test-section">
            <h2>Test 3: Nested Object</h2>
            <div class="jsonl-input">{"id": 1, "profile": {"name": "Alice", "settings": {"theme": "dark", "notifications": true}}}
{"id": 2, "profile": {"name": "Bob", "settings": {"theme": "light", "notifications": false}}}
{"id": 3, "profile": {"name": "Charlie", "settings": {"theme": "auto", "notifications": true}}}</div>

            <div class="jsonpath-input">JSONPath: $.profile.settings</div>

            <div class="expected-output">Expected Output:
[
  {
    "from_object": 0,
    "result": {
      "settings": {
        "theme": "dark",
        "notifications": true
      }
    }
  },
  {
    "from_object": 1,
    "result": {
      "settings": {
        "theme": "light",
        "notifications": false
      }
    }
  },
  {
    "from_object": 2,
    "result": {
      "settings": {
        "theme": "auto",
        "notifications": true
      }
    }
  }
]</div>
            <button class="test-button" onclick="testNestedObject()">Test Nested Object</button>
        </div>

        <div class="test-section">
            <h2>Test 4: Multiple Fields</h2>
            <div class="jsonl-input">{"id": 1, "name": "Alice", "age": 25, "city": "New York"}
{"id": 2, "name": "Bob", "age": 30, "city": "Los Angeles"}
{"id": 3, "name": "Charlie", "age": 35, "city": "Chicago"}</div>

            <div class="jsonpath-input">JSONPath: $.name, $.age</div>

            <div class="expected-output">Expected Output:
[
  {
    "from_object": 0,
    "result": {
      "name": "Alice",
      "age": 25
    }
  },
  {
    "from_object": 1,
    "result": {
      "name": "Bob",
      "age": 30
    }
  },
  {
    "from_object": 2,
    "result": {
      "name": "Charlie",
      "age": 35
    }
  }
]</div>
            <button class="test-button" onclick="testMultipleFields()">Test Multiple Fields</button>
        </div>

        <div id="output" style="margin-top: 30px; padding: 20px; border: 2px solid #007cba; border-radius: 8px; background: #f9f9f9; display: none;">
            <h3>Test Output:</h3>
            <div id="outputContent" style="white-space: pre-wrap; font-family: monospace; background: white; padding: 15px; border-radius: 5px;"></div>
        </div>
    </div>

    <script>
        function showOutput(message) {
            document.getElementById('outputContent').textContent = message;
            document.getElementById('output').style.display = 'block';
        }

        function testSimpleField() {
            showOutput('Navigate to http://127.0.0.1:8000/tools/json-tool\n\n1. Paste the JSONL data from Test 1\n2. Enter JSONPath: $.name\n3. Press Enter or click the path lookup\n4. Compare with expected output\n\nThe output should show clean formatting with proper indentation and syntax highlighting.');
        }

        function testArrayField() {
            showOutput('Navigate to http://127.0.0.1:8000/tools/json-tool\n\n1. Paste the JSONL data from Test 2\n2. Enter JSONPath: $.hobbies\n3. Press Enter or click the path lookup\n4. Compare with expected output\n\nArrays should be properly formatted with each element on its own line.');
        }

        function testNestedObject() {
            showOutput('Navigate to http://127.0.0.1:8000/tools/json-tool\n\n1. Paste the JSONL data from Test 3\n2. Enter JSONPath: $.profile.settings\n3. Press Enter or click the path lookup\n4. Compare with expected output\n\nNested objects should maintain proper indentation hierarchy.');
        }

        function testMultipleFields() {
            showOutput('Navigate to http://127.0.0.1:8000/tools/json-tool\n\n1. Paste the JSONL data from Test 4\n2. Enter JSONPath: $.name, $.age\n3. Press Enter or click the path lookup\n4. Compare with expected output\n\nMultiple fields should be combined in the result object.');
        }
    </script>
</body>
</html>